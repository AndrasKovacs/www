Lab 3 Test Suite
Programming Language Technology, 2018

%!target:html
%!encoding: utf-8

'''
<script src="../../../enhance_page.js" type="text/javascript"></script>
'''

= Introduction =

Before you submit [lab 3 ../lab3.html], your solution must pass the
testsuite. This document describes how to obtain and use
this testsuite.

**NOTE:** After some time, we may chose to add more test
cases. We recommend that you use the latest
version of the test suite to check your solution before submission.
This helps you catch errors that you would otherwise have to wait
for the grader to spot.

If you encounter problems, send mail to the teachers or to the course
Google group.


= Preparations =

You will only need to do this part once.

+ Make sure that at least version 1.2.5.0 (December 2015) of the
  Haskell package [directory https://hackage.haskell.org/package/directory]
  is installed:
```
$ ghc-pkg latest directory
```

+ Download [lab3-testsuite.tar.gz lab3-testsuite.tar.gz].

+ Unpack the downloaded file:
```
$ tar -zxf lab3-testsuite.tar.gz
```

+ Enter the ``lab3-testsuite`` directory:
```
$ cd lab3-testsuite
```

+ Compile the test program using ``make`` or alternatively:
```
$ ghc -threaded --make -o progs-test-lab3 progs-test-lab3.hs
```


= Running the testsuite =

This is what you need to do to test your solution.


+ Enter the ``lab3-testsuite`` directory (if you are not there already):
```
$ cd lab3-testsuite
```

+ Run ``progs-test-lab3`` with the path to the directory
where your solution is located:

```
$ ./progs-test-lab3 path/to/your/solution/
```


If you have implemented compilation of floating point operations,
you can also test your compiler on the
[full test suite of lab2 ../../lab2/testsuite/lab2-testsuite.tar.gz].
To this end, invoke the test suite with the ``--doubles`` flag:

```
$ ./progs-test-lab3 --doubles path/to/your/solution/
```
